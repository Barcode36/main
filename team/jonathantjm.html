<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Jonathan Tan Jit Ming - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Expense Tracker</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S1-T12-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Jonathan Tan Jit Ming - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-expensetracker"><a class="link" href="#project-expensetracker">PROJECT: ExpenseTracker</a></h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="overview"><a class="link" href="#overview">Overview</a></h3>
<div class="paragraph">
<p>This portfolio aims to document the contributions made by <strong>Jonathan Tan Jit Ming</strong> to the <strong>Expense Tracker</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Expense Tracker</strong> was a project done under the a Software Engineering module during my time at NUS. The project involved
working in a team of 5 people to enhance or morph an existing <a href="https://github.com/se-edu/addressbook-level4">Address Book</a>
application.<br></p>
</div>
<div class="paragraph">
<p><strong>Expense Tracker</strong> is a desktop application that can be used track one&#8217;s expenses and features a Command Line Interface (CLI)
as the main mode of interaction. Expense Tracker aims to provide users with the necessary tools to become
a better saver. The main features of <strong>Expense Tracker</strong> are the managing of expenses, budget setting and expense statistics.</p>
</div>
</div>
<div class="sect2">
<h3 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h3>
<div class="paragraph">
<p><strong>Code Contribution</strong>&#8201;&#8212;&#8201;Refer to this <a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=jonathantjm">link</a> to see
the code I contributed to Expense Tracker.</p>
</div>
<div class="paragraph">
<p>Below describes my contributions and enhancements to Expense Tracker and the project team:</p>
</div>
<div class="sect3">
<h4 id="main-feature"><a class="link" href="#main-feature">Main feature</a></h4>
<div class="paragraph">
<p>The main feature that I added was the functionality to display <strong>expense statistics</strong>, which is a bar chart or a pie chart
showing the user&#8217;s expenditure organised by time or category. This is a core feature of Expense Tracker as it allows the user to be informed about their spending patterns, and therefore helping the user become a better saver.<br></p>
</div>
<div class="paragraph">
<p>This feature required an in-depth understanding of the software architecture as it involves multiple components of the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="other-contributions"><a class="link" href="#other-contributions">Other Contributions</a></h4>
<div class="paragraph">
<p>These are other contributions that I made to the project and the team:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensured consistency in the language, formatting and structure of the project&#8217;s documentation. These changes can be seen in Pull Requests (PRs)
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/65">#65</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/66">#66</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/68">#68</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/89">#89</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/90">#90</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/95">#95</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/173">#173</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/180">#180</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/183">#183</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/185">#185</a>,
and <a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/189">#189</a>.</p>
</li>
<li>
<p>Reviewed PRs made by teammates by providing meaningful comments, where necessary.
The PRs I reviewed include
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#72</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/73">#73</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/76">#76</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/91">#91</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/94">#94</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/98">#98</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/109">#109</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#128</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#170</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#179</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#186</a>,
<a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#187</a>
and <a href="https://github.com/CS2103-AY1819S1-T12-1/main/pull/72">#188</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StatsCommand"><a class="link" href="#StatsCommand">Showing expense statistics: <code>stats</code></a></h3>
<div class="paragraph">
<p>Changes the Expense List to show the Statistics Panel if the Expense List is currently showing, then
displays a graph of your expenditure over a specified time period, in a given <code>MODE</code>.<br></p>
</div>
<div class="paragraph">
<p>You can use this command to analyse your expenses, observe your spending patterns and to identify categories which take
up most of your budget.</p>
</div>
<div class="paragraph">
<p>There are two available modes: Time and Category, which can be indicated by <code>t</code> or <code>c</code> respectively in the <code>MODE</code> parameter.<br></p>
</div>
<div class="paragraph">
<p>Choosing Time mode will show a bar chart, similar to the one below, in the statistics panel, where amounts for each day or month will displayed,
depending on the specified <code>PERIOD_AMOUNT</code> and <code>PERIOD</code>, starting from the current day or month.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/userguide/barChart.png" alt="barChart" width="790">
</div>
<div class="title">Figure 1. Statistics Panel showing a bar chart in Time mode</div>
</div>
<div class="paragraph">
<p>Choosing Category mode will show a pie chart, similar to the one below, in the statistics panel, where amounts for each category will displayed for
expenses in the specified <code>PERIOD_AMOUNT</code> and <code>PERIOD</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/userguide/pieChart.png" alt="pieChart" width="790">
</div>
<div class="title">Figure 2. Statistics Panel showing a pie chart in Category mode</div>
</div>
<div class="paragraph">
<p>The available options for <code>PERIOD</code> are <code>d</code> and <code>m</code>, which represents day and month respectively. E.g. if <code>PERIOD_AMOUNT</code> is 7
and <code>MODE</code> is <code>d</code>, the statistics will include data from the past 7 days.</p>
</div>
<div class="paragraph">
<p>Format: <code>stats n/PERIOD_AMOUNT p/PERIOD m/MODE</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>stats n/14 p/d m/t</code><br>
Shows the expense statistics for the past 14 days as a bar chart showing expenses for each day<br></p>
</li>
<li>
<p><code>stats n/3 p/m m/t</code><br>
Shows the expense statistics for the past 3 months as a bar chart showing expenses for each month<br></p>
</li>
<li>
<p><code>stats n/3 p/m m/c</code><br>
Shows the expense statistics for the past 3 months as a pie chart showing expenses for each category<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>PERIOD_AMOUNT must be a positive integer</p>
</li>
<li>
<p>PERIOD can only be <code>d</code> or <code>m</code>, for day and month respectively</p>
</li>
<li>
<p>MODE can only be <code>t</code> or <code>c</code>, for time and category respectively</p>
</li>
<li>
<p>Leaving all parameters blank, i.e. typing the command <code>stats</code>, defaults in showing expenses for the past 7 days in Time mode.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="statistics"><a class="link" href="#statistics">Statistics</a></h3>
<div class="paragraph">
<p>The implementation of the Statistics function can be divided into two phases - preparation and execution.
Given below is an explanation of how the statistics mechanism behaves at each phase.</p>
</div>
<div class="sect3">
<h4 id="preparation"><a class="link" href="#preparation">Preparation</a></h4>
<div class="paragraph">
<p>In the preparation phase, the program parses the command for statistics, prepares filters used by the model
and posts events in <code>EventsCenter</code>.
Below is the UML sequence diagram and a step-by-step explanation of the preparation stage.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/implementation/StatsPreparationSequenceDiagram.png" alt="StatsPreparationSequenceDiagram">
</div>
<div class="title">Figure 3. Sequence diagram of the preparation stage in the statistics mechanism</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters command <code>stats</code> command e.g. <code>stats n/7 p/d m/t</code>. The command is received by <code>ExpenseTrackerParser</code>, which calls
creates <code>StatsCommand</code> and calls <code>StatsCommandParser#parse()</code> to create <code>StatsCommand</code>.</p>
</li>
<li>
<p>If no parameters are provided by the user, <code>StatsCommand#StatsCommand()</code> is called to create <code>StatsCommand</code> with the
default parameters of <code>periodAmount</code> as <code>7</code>, <code>period</code> as <code>d</code> and <code>mode</code> as <code>t</code>. Otherwise,
<code>StatsCommand#StatsCommand(periodAmount, period, mode)</code> is called to create <code>StatsCommand</code> with the specified parameters.</p>
</li>
<li>
<p><code>StatsCommand</code> checks if the parameters are valid. If any parameter is invalid, an exception will be raised and a
message will be displayed to the user. Otherwise, the parameters are stored in instance variables and
<code>StatsCommand</code> is returned to <code>LogicManager</code>.</p>
</li>
<li>
<p><code>LogicManager</code> then calls <code>StatsCommand#execute()</code>, which updates <code>expensePredicate</code>, <code>statsMode</code>, <code>statsPeriod</code> and
<code>periodAmount</code> in <code>ModelManager</code>, which are variables in <code>ModelManager</code> relevant for statistics.
<code>StatsCommand#execute()</code> also posts <code>ShowStatsRequestEvent</code> and <code>SwapLeftPanelEvent</code> events to <code>EventsCenter</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="execution"><a class="link" href="#execution">Execution</a></h4>
<div class="paragraph">
<p>In the execution phase, the program handles <code>ShowStatsRequestEvent</code> posted by <code>StatsCommand</code> by
processing and retrieving the data to be displayed and finally displaying it.
Below is the UML sequence diagram and a step-by-step explanation of the execution stage.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/implementation/StatsExecutionSequenceDiagram.png" alt="StatsExecutionSequenceDiagram" width="500">
</div>
<div class="title">Figure 4. Sequence diagram of the execution stage in the statistics mechanism</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>ShowStatsRequestEvent</code> event is handled by <code>MainWindow#handleShowStatsEvent()</code>, which calls 'StatisticsPanel#setData()'
and passes the data as parameters by calling
<code>Logic#getExpenseStats()</code>, <code>Logic#getStatsPeriod()</code>, <code>Logic#getStatsMode()</code> and <code>Logic#getPeriodAmount()</code>.</p>
</li>
<li>
<p><code>Logic#getExpenseStats()</code> gets the filtered expense list by calling <code>Model#getExpenseStats()</code>, which returns
an unmodifiable <code>ObservableList</code>, only containing only expenses in the last 7 days, as per <code>ModelManager#expensePredicate</code>, and sorted by date.</p>
</li>
<li>
<p><code>Logic#getExpenseStats()</code> then organises the data into a <code>LinkedHashMap&lt;String, Double&gt;</code>, where the key value pair represents
the data series of the chart. If <code>StatsMode</code> is set to TIME, the key and value pair represents date and cost.
If <code>StatsMode</code> is set to CATEGORY, the key value pair represents category and cost. Regardless of mode, the values are
cumulative and is implemented using the algorithm in the following code snippet, using the example of category mode:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>LinkedHashMap&lt;String, Double&gt; stats = new LinkedHashMap&lt;&gt;();
for (Expense e : expenseList) {
    String category;
    category = e.getCategory().categoryName;

    if (stats.containsKey(category)) {
        stats.put(
                category,
                stats.get(category) + e.getCost().getCostValue()
        );
    } else {
        stats.put(category, e.getCost().getCostValue());
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p><code>Logic#getStatsPeriod()</code>, <code>Logic#getStatsMode()</code> and <code>Logic#getPeriodAmount()</code> gets their respective data
by calling the method of the same name in <code>Model</code>.</p>
</li>
<li>
<p>Once the parameters are passed into <code>StatisticsPanel#setData()</code>, <code>StackPane#getChildren()#clear()</code> is called to clear
any display elements in <code>StackPane</code>. Then there are three scenarios which could happen:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If the data received is empty, a <code>Text</code> object is generated and <code>StackPane#getChildren()#add()</code> is called,
which informs the user that there are no expenditures</p>
</li>
<li>
<p>If <code>StatsMode</code> is set to TIME, <code>StatisticsPanel#setTimeBasedData()</code> will be called, which
generates a Bar Chart and calls <code>StackPane#getChildren()#add()</code>, which adds it to <code>StackPane</code>.</p>
</li>
<li>
<p>If <code>StatsMode</code> is set to CATEGORY, <code>StatisticsPanel#setCategoryBasedData()</code> will be called, which
generates a Pie Chart and calls <code>StackPane#getChildren()#add()</code>, which adds it to <code>StackPane</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>All of these steps from the preparation and execution phase result in the Statistics Panel of Expense Tracker showing
either a bar chart or a pie chart like the ones in the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/StatsCharts.png" alt="StatsCharts">
</div>
<div class="title">Figure 5. Example bar and pie charts for Statistics Panel</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-handle-statistics-data-and-parameters"><a class="link" href="#aspect-how-to-handle-statistics-data-and-parameters">Aspect: How to handle statistics data and parameters</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Data and each parameter is handled as separate objects</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Need to call multiple methods to get parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (planned for future releases):</strong> Create Statistics object which contains data and all the parameters.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More scalable. Less method calls to get parameters.</p>
</li>
<li>
<p>Cons: None</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-pass-statistics-data-and-parameters-from-command-to-ui"><a class="link" href="#aspect-how-to-pass-statistics-data-and-parameters-from-command-to-ui">Aspect: How to pass statistics data and parameters from Command to UI</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> UI gets all data and parameters from <code>Logic</code>, which gets data from <code>Model</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement. Aligned with architecture.</p>
</li>
<li>
<p>Cons: A lot of method calls</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Pass data and parameters through event</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less method calls. Easier to read.</p>
</li>
<li>
<p>Cons: Not in alignment with architecture. Need to consider application startup when there are no events posted.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 12:32:24 UTC</div></div></div></body></html>